{% extends '_base.html' %}
{% load static %}

{% block title %}Configs{% endblock title %}

{% block content %}

{% for device in devices %}
    <a href="{{device.URL}}" target="_blank">{{device.name}}</a> ({{device.name_fpoc}}) =>
    {% if device.deployment_status == "skipped" %}
        <strong>{{device.deployment_status}}</strong>
    {% else %}
        {{device.deployment_status}}
    {% endif %}
{% empty %}
{% endfor %}


<hr>
<h2>Rendering contexts</h2>
{% for device in devices %}
    <a href="#{{device.name}}">{{device.name}}</a>

    <!-- dump the context dictionary -->
    {{device.context}}
    <br><br>
{% empty %}
{% endfor %}

<hr>
<h2>Configuration files</h2>
{% for device in devices %}
    <h2><a id="{{device.name}}"></a>{{ device.name }}</h2>
    <pre>{{ device.config }}</pre>
    <hr>
{% empty %}
    <h3>No configuration was generated</h3>
{% endfor %}

{% if fortimanager %}
    <h3>Jinja script for FortiManager Provisioning Templates</h3>
    {{fortimanager|safe}}
{% endif %}

{% endblock content %}
